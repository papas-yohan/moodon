# ì‹ ìƒë§ˆì¼“ ìƒí’ˆ í™ë³´ ì‹œìŠ¤í…œ - ê°œë°œ ì„¤ê³„ì„œ

## ğŸ“‹ ëª©ì°¨
1. [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
2. [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
3. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
4. [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„](#ë°ì´í„°ë² ì´ìŠ¤-ì„¤ê³„)
5. [API ëª…ì„¸](#api-ëª…ì„¸)
6. [ì£¼ìš” ëª¨ë“ˆ ìƒì„¸ ì„¤ê³„](#ì£¼ìš”-ëª¨ë“ˆ-ìƒì„¸-ì„¤ê³„)
7. [ì™¸ë¶€ API ì—°ë™ ìš”êµ¬ì‚¬í•­](#ì™¸ë¶€-api-ì—°ë™-ìš”êµ¬ì‚¬í•­)
8. [ê°œë°œ ì¼ì • ë° ìŠ¤í”„ë¦°íŠ¸](#ê°œë°œ-ì¼ì •-ë°-ìŠ¤í”„ë¦°íŠ¸)
9. [í…ŒìŠ¤íŠ¸ ì „ëµ](#í…ŒìŠ¤íŠ¸-ì „ëµ)
10. [ë°°í¬ ë° ìš´ì˜](#ë°°í¬-ë°-ìš´ì˜)

---

## í”„ë¡œì íŠ¸ ê°œìš”

### ëª©ì 
ìƒí’ˆ ì´ë¯¸ì§€ì™€ ì •ë³´ë¥¼ AIë¡œ ìë™ í•©ì„±í•˜ì—¬ ë§ˆì¼€íŒ… ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ê³ , 
ì£¼ì†Œë¡ ê¸°ë°˜ìœ¼ë¡œ ë¬¸ì/ì¹´ì¹´ì˜¤í†¡ ì¼ê´„ ì „ì†¡ ë° ë§ˆì¼€íŒ… íš¨ìœ¨ì„ ì¸¡ì •í•˜ëŠ” ì‹œìŠ¤í…œ

### í•µì‹¬ ê°€ì¹˜
- **ê°„í¸í•œ ì´ë¯¸ì§€ í•©ì„±**: 5~6ì¥ì˜ ìƒí’ˆ ì‚¬ì§„ì„ 1ì¥ì˜ ì„¸ë ¨ëœ ë§ˆì¼€íŒ… ì´ë¯¸ì§€ë¡œ ìë™ ë³€í™˜
- **ì¼ê´„ ì „ì†¡**: ì£¼ì†Œë¡ ê¸°ë°˜ ë¬¸ì/ì¹´ì¹´ì˜¤í†¡ ëŒ€ëŸ‰ ë°œì†¡
- **íš¨ê³¼ ì¸¡ì •**: ë°œì†¡/ì½ìŒ/í´ë¦­ ì¶”ì ì„ í†µí•œ ë§ˆì¼€íŒ… ROI ë¶„ì„
- **ì—‘ì…€ ì¹œí™”ì  UX**: PC ì‚¬ìš©ìê°€ ìµìˆ™í•œ ì—‘ì…€ ìŠ¤íƒ€ì¼ ì¸í„°í˜ì´ìŠ¤

### ê°œë°œ ì›ì¹™
- Over-Engineering ì§€ì–‘, ëª…í™•í•˜ê³  ê°„ê²°í•œ ì½”ë“œ
- TDD(í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ) ë°©ë²•ë¡  ì ìš©
- ëª¨ë“ˆí™”ëœ êµ¬ì¡°ë¡œ 2ë‹¨ê³„ SaaS í™•ì¥ ëŒ€ë¹„
- ë°˜ì‘í˜• ì›¹ìœ¼ë¡œ PC/ëª¨ë°”ì¼ ëª¨ë‘ ì§€ì›

---

## ê¸°ìˆ  ìŠ¤íƒ

### 1ë‹¨ê³„ (MVP)

**Frontend**
- React 18 + TypeScript
- Vite (ë¹Œë“œ ë„êµ¬)
- TanStack Query (ì„œë²„ ìƒíƒœ ê´€ë¦¬)
- Zustand (í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ê´€ë¦¬)
- Tailwind CSS + shadcn/ui (UI ì»´í¬ë„ŒíŠ¸)
- React Hook Form + Zod (í¼ ê´€ë¦¬ ë° ê²€ì¦)
- AG Grid Community (ì—‘ì…€ ìŠ¤íƒ€ì¼ í…Œì´ë¸”)

**Backend**
- Node.js 20 + TypeScript
- NestJS (í”„ë ˆì„ì›Œí¬)
- Prisma (ORM)
- BullMQ + Redis (ì‘ì—… í)
- Multer (íŒŒì¼ ì—…ë¡œë“œ)

**Database & Storage**
- PostgreSQL 15 (ë©”ì¸ DB)
- Redis 7 (ìºì‹œ ë° í)
- AWS S3 í˜¸í™˜ ìŠ¤í† ë¦¬ì§€ (ì´ë¯¸ì§€ ì €ì¥)

**Testing**
- Jest (ë‹¨ìœ„ í…ŒìŠ¤íŠ¸)
- Supertest (API í†µí•© í…ŒìŠ¤íŠ¸)
- React Testing Library (ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸)
- Playwright (E2E í…ŒìŠ¤íŠ¸)

**DevOps**
- Docker + Docker Compose (ë¡œì»¬ ê°œë°œ)
- GitHub Actions (CI/CD)

### 2ë‹¨ê³„ ì¶”ê°€ ìŠ¤íƒ
- JWT + Refresh Token (ì¸ì¦)
- Stripe/Toss Payments (ê²°ì œ)
- Redis Cluster (í™•ì¥ì„±)
- Nginx (ë¡œë“œ ë°¸ëŸ°ì‹±)
- Prometheus + Grafana (ëª¨ë‹ˆí„°ë§)

---

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ êµ¬ì¡°ë„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend (React)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ìƒí’ˆê´€ë¦¬  â”‚  â”‚ ì£¼ì†Œë¡   â”‚  â”‚ ë°œì†¡ê´€ë¦¬  â”‚  â”‚ ë¶„ì„     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API Gateway (NestJS)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Controllers & Guards                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚          â”‚          â”‚          â”‚          â”‚
â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Product  â”‚ â”‚Addressâ”‚ â”‚Composerâ”‚ â”‚Messagingâ”‚ â”‚Tracking  â”‚
â”‚ Service  â”‚ â”‚ Book  â”‚ â”‚Service â”‚ â”‚Service  â”‚ â”‚Service   â”‚
â”‚          â”‚ â”‚Serviceâ”‚ â”‚        â”‚ â”‚         â”‚ â”‚          â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚         â”‚          â”‚         â”‚          â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                     â”‚
         â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
         â”‚PostgreSQLâ”‚        â”‚   Redis   â”‚
         â”‚          â”‚        â”‚  + BullMQ â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                            â”‚   Workers   â”‚
                            â”‚ - Composer  â”‚
                            â”‚ - Sender    â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì£¼ìš” íë¦„

**1. ìƒí’ˆ ë“±ë¡ ë° ì´ë¯¸ì§€ í•©ì„±**
```
ì‚¬ìš©ì â†’ ìƒí’ˆ í¼ ì‘ì„± â†’ ì´ë¯¸ì§€ ì—…ë¡œë“œ(5~6ì¥) 
â†’ "ì´ë¯¸ì§€ í•©ì„±" í´ë¦­ â†’ í•©ì„± ì‘ì—… í ë“±ë¡ 
â†’ Workerê°€ AI API í˜¸ì¶œ â†’ í•©ì„± ì´ë¯¸ì§€ ìƒì„± 
â†’ S3 ì €ì¥ â†’ DB ì—…ë°ì´íŠ¸ â†’ í”„ë¡ íŠ¸ì—”ë“œ ë¯¸ë¦¬ë³´ê¸°
```

**2. ì¼ê´„ ë°œì†¡**
```
ìƒí’ˆ ì„ íƒ(ì²´í¬ë°•ìŠ¤) â†’ ì£¼ì†Œë¡ ì„ íƒ â†’ ë°œì†¡ ì±„ë„ ì„ íƒ(ë¬¸ì/ì¹´í†¡)
â†’ ë°œì†¡ ì‘ì—… í ë“±ë¡ â†’ Workerê°€ ë°°ì¹˜ ì²˜ë¦¬ 
â†’ ì™¸ë¶€ API í˜¸ì¶œ(SMS/ì¹´ì¹´ì˜¤) â†’ ê²°ê³¼ ìˆ˜ì§‘ â†’ ë¡œê·¸ ì €ì¥
```

**3. ì¶”ì  ë° ë¶„ì„**
```
ìˆ˜ì‹ ìê°€ ë§í¬ í´ë¦­ â†’ ì¶”ì  ì„œë²„ ë¦¬ë‹¤ì´ë ‰íŠ¸ â†’ í´ë¦­ ë¡œê·¸ ì €ì¥ 
â†’ ì‹¤ì œ ìƒí’ˆ ë§í¬ë¡œ ì´ë™
ì¹´ì¹´ì˜¤ ì½ìŒ ì½œë°± â†’ ì½ìŒ ë¡œê·¸ ì €ì¥
â†’ ëŒ€ì‹œë³´ë“œì—ì„œ ì§‘ê³„ ë°ì´í„° í‘œì‹œ
```

---

## ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### ERD ì£¼ìš” í…Œì´ë¸”

**1ë‹¨ê³„ í…Œì´ë¸”**

```sql
-- ìƒí’ˆ
CREATE TABLE products (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name VARCHAR(255) NOT NULL,
  price INTEGER NOT NULL,
  size VARCHAR(100),
  color VARCHAR(100),
  market_link TEXT,
  composed_image_url TEXT,
  send_count INTEGER DEFAULT 0,
  read_count INTEGER DEFAULT 0,
  click_count INTEGER DEFAULT 0,
  status VARCHAR(50) DEFAULT 'draft', -- draft, composing, ready, archived
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- ìƒí’ˆ ì›ë³¸ ì´ë¯¸ì§€
CREATE TABLE product_images (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  product_id UUID REFERENCES products(id) ON DELETE CASCADE,
  image_url TEXT NOT NULL,
  sequence INTEGER NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);

-- ì£¼ì†Œë¡
CREATE TABLE contacts (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name VARCHAR(255),
  phone VARCHAR(20) NOT NULL,
  kakao_id VARCHAR(255),
  group_name VARCHAR(100),
  tags TEXT[], -- ë°°ì—´ë¡œ ë‹¤ì¤‘ íƒœê·¸ ì§€ì›
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(phone)
);

-- ë°œì†¡ ì‘ì—…
CREATE TABLE send_jobs (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  product_ids UUID[] NOT NULL, -- ë‹¤ì¤‘ ìƒí’ˆ ì§€ì›
  channel VARCHAR(20) NOT NULL, -- sms, kakao, both
  recipient_count INTEGER DEFAULT 0,
  success_count INTEGER DEFAULT 0,
  fail_count INTEGER DEFAULT 0,
  status VARCHAR(50) DEFAULT 'pending', -- pending, processing, completed, failed
  scheduled_at TIMESTAMP,
  started_at TIMESTAMP,
  completed_at TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW()
);

-- ë°œì†¡ ë¡œê·¸
CREATE TABLE send_logs (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  send_job_id UUID REFERENCES send_jobs(id) ON DELETE CASCADE,
  product_id UUID REFERENCES products(id),
  contact_id UUID REFERENCES contacts(id),
  channel VARCHAR(20) NOT NULL,
  status VARCHAR(50) NOT NULL, -- success, failed, pending
  error_code VARCHAR(100),
  error_message TEXT,
  external_message_id VARCHAR(255), -- ì™¸ë¶€ API ë©”ì‹œì§€ ID
  sent_at TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW()
);

-- ì¶”ì  ì´ë²¤íŠ¸
CREATE TABLE tracking_events (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  product_id UUID REFERENCES products(id),
  contact_id UUID REFERENCES contacts(id),
  send_log_id UUID REFERENCES send_logs(id),
  event_type VARCHAR(50) NOT NULL, -- click, read, delivered
  tracking_code VARCHAR(100) UNIQUE, -- ì¶”ì ìš© ê³ ìœ  ì½”ë“œ
  ip_address INET,
  user_agent TEXT,
  metadata JSONB,
  created_at TIMESTAMP DEFAULT NOW()
);

-- ì´ë¯¸ì§€ í•©ì„± ì‘ì—…
CREATE TABLE compose_jobs (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  product_id UUID REFERENCES products(id) ON DELETE CASCADE,
  status VARCHAR(50) DEFAULT 'pending', -- pending, processing, completed, failed
  template_type VARCHAR(50) DEFAULT 'grid', -- grid, highlight, simple
  result_url TEXT,
  error_message TEXT,
  retry_count INTEGER DEFAULT 0,
  started_at TIMESTAMP,
  completed_at TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW()
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_products_status ON products(status);
CREATE INDEX idx_products_created_at ON products(created_at DESC);
CREATE INDEX idx_contacts_phone ON contacts(phone);
CREATE INDEX idx_contacts_group ON contacts(group_name);
CREATE INDEX idx_send_logs_job_id ON send_logs(send_job_id);
CREATE INDEX idx_send_logs_contact_id ON send_logs(contact_id);
CREATE INDEX idx_tracking_events_product_id ON tracking_events(product_id);
CREATE INDEX idx_tracking_events_tracking_code ON tracking_events(tracking_code);
```

**2ë‹¨ê³„ ì¶”ê°€ í…Œì´ë¸”**

```sql
-- ì‚¬ìš©ì (2ë‹¨ê³„)
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  email VARCHAR(255) UNIQUE NOT NULL,
  phone VARCHAR(20),
  password_hash VARCHAR(255) NOT NULL,
  name VARCHAR(255),
  role VARCHAR(50) DEFAULT 'user', -- user, admin
  tenant_id UUID, -- ë©€í‹° í…Œë„Œì‹œ
  is_active BOOLEAN DEFAULT true,
  email_verified BOOLEAN DEFAULT false,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- êµ¬ë… (2ë‹¨ê³„)
CREATE TABLE subscriptions (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  plan_type VARCHAR(50) NOT NULL, -- free, basic, pro, enterprise
  status VARCHAR(50) DEFAULT 'active', -- active, cancelled, expired
  monthly_send_limit INTEGER,
  monthly_send_used INTEGER DEFAULT 0,
  started_at TIMESTAMP NOT NULL,
  expires_at TIMESTAMP,
  cancelled_at TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW()
);

-- API í‚¤ (2ë‹¨ê³„)
CREATE TABLE api_keys (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  key_hash VARCHAR(255) NOT NULL,
  name VARCHAR(255),
  last_used_at TIMESTAMP,
  expires_at TIMESTAMP,
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW()
);

-- 1ë‹¨ê³„ í…Œì´ë¸”ì— owner_id ì¶”ê°€
ALTER TABLE products ADD COLUMN owner_id UUID REFERENCES users(id);
ALTER TABLE contacts ADD COLUMN owner_id UUID REFERENCES users(id);
ALTER TABLE send_jobs ADD COLUMN owner_id UUID REFERENCES users(id);
```

---

## API ëª…ì„¸

### ê¸°ë³¸ ì •ë³´
- Base URL: `http://localhost:3000/api/v1` (ê°œë°œ)
- Content-Type: `application/json`
- ì¸ì¦ (2ë‹¨ê³„): `Authorization: Bearer {token}`

### 1. ìƒí’ˆ ê´€ë¦¬ API

#### 1.1 ìƒí’ˆ ë“±ë¡
```http
POST /products
Content-Type: multipart/form-data

{
  "name": "ë´„ ì‹ ìƒ ì›í”¼ìŠ¤",
  "price": 45000,
  "size": "Free",
  "color": "ë² ì´ì§€",
  "marketLink": "https://example.com/product/123",
  "images": [File, File, File, File, File] // 5~6ê°œ
}

Response 201:
{
  "id": "uuid",
  "name": "ë´„ ì‹ ìƒ ì›í”¼ìŠ¤",
  "status": "draft",
  "imageUrls": ["s3://...", "s3://..."],
  "createdAt": "2025-10-28T10:00:00Z"
}
```

#### 1.2 ì´ë¯¸ì§€ í•©ì„± ìš”ì²­
```http
POST /products/:id/compose

{
  "templateType": "grid" // grid, highlight, simple
}

Response 202:
{
  "jobId": "uuid",
  "status": "pending",
  "estimatedTime": 30 // seconds
}
```

#### 1.3 í•©ì„± ìƒíƒœ ì¡°íšŒ
```http
GET /products/:id/compose-status

Response 200:
{
  "status": "completed", // pending, processing, completed, failed
  "composedImageUrl": "https://cdn.example.com/composed/xxx.jpg",
  "progress": 100
}
```

#### 1.4 ìƒí’ˆ ëª©ë¡ ì¡°íšŒ
```http
GET /products?page=1&limit=50&status=ready&sort=createdAt:desc

Response 200:
{
  "data": [
    {
      "id": "uuid",
      "name": "ë´„ ì‹ ìƒ ì›í”¼ìŠ¤",
      "price": 45000,
      "composedImageUrl": "https://...",
      "sendCount": 5,
      "readCount": 3,
      "clickCount": 2,
      "status": "ready",
      "createdAt": "2025-10-28T10:00:00Z"
    }
  ],
  "meta": {
    "total": 100,
    "page": 1,
    "limit": 50
  }
}
```

#### 1.5 ìƒí’ˆ ìˆ˜ì •
```http
PATCH /products/:id

{
  "name": "ìˆ˜ì •ëœ ì´ë¦„",
  "price": 50000
}

Response 200:
{
  "id": "uuid",
  "name": "ìˆ˜ì •ëœ ì´ë¦„",
  "updatedAt": "2025-10-28T11:00:00Z"
}
```

#### 1.6 ìƒí’ˆ ì‚­ì œ
```http
DELETE /products/:id

Response 204
```

### 2. ì£¼ì†Œë¡ ê´€ë¦¬ API

#### 2.1 ì£¼ì†Œë¡ ì—…ë¡œë“œ (ì—‘ì…€/CSV)
```http
POST /contacts/upload
Content-Type: multipart/form-data

{
  "file": File, // .xlsx, .csv
  "groupName": "VIPê³ ê°"
}

Response 201:
{
  "imported": 150,
  "failed": 5,
  "errors": [
    {
      "row": 10,
      "reason": "ì˜ëª»ëœ ì „í™”ë²ˆí˜¸ í˜•ì‹"
    }
  ]
}
```

#### 2.2 ì£¼ì†Œë¡ ëª©ë¡ ì¡°íšŒ
```http
GET /contacts?page=1&limit=100&group=VIPê³ ê°&search=í™ê¸¸ë™

Response 200:
{
  "data": [
    {
      "id": "uuid",
      "name": "í™ê¸¸ë™",
      "phone": "010-1234-5678",
      "kakaoId": "honggildong",
      "groupName": "VIPê³ ê°",
      "tags": ["ë‹¨ê³¨", "ì¬êµ¬ë§¤"],
      "isActive": true
    }
  ],
  "meta": {
    "total": 150,
    "page": 1
  }
}
```

#### 2.3 ì£¼ì†Œë¡ ê°œë³„ ì¶”ê°€
```http
POST /contacts

{
  "name": "ê¹€ì² ìˆ˜",
  "phone": "010-9876-5432",
  "kakaoId": "kimcs",
  "groupName": "ì‹ ê·œê³ ê°",
  "tags": ["ì´ë²¤íŠ¸ì°¸ì—¬"]
}

Response 201:
{
  "id": "uuid",
  "name": "ê¹€ì² ìˆ˜",
  "createdAt": "2025-10-28T10:00:00Z"
}
```

#### 2.4 ì£¼ì†Œë¡ ìˆ˜ì •
```http
PATCH /contacts/:id

{
  "groupName": "VIPê³ ê°",
  "tags": ["ë‹¨ê³¨", "ì¬êµ¬ë§¤", "ë¦¬ë·°ì‘ì„±"]
}

Response 200
```

#### 2.5 ì£¼ì†Œë¡ ì‚­ì œ
```http
DELETE /contacts/:id

Response 204
```

#### 2.6 ê·¸ë£¹ ëª©ë¡ ì¡°íšŒ
```http
GET /contacts/groups

Response 200:
{
  "groups": [
    {
      "name": "VIPê³ ê°",
      "count": 150
    },
    {
      "name": "ì‹ ê·œê³ ê°",
      "count": 80
    }
  ]
}
```

### 3. ë°œì†¡ ê´€ë¦¬ API

#### 3.1 ë°œì†¡ ì‘ì—… ìƒì„±
```http
POST /send-jobs

{
  "productIds": ["uuid1", "uuid2"],
  "contactIds": ["uuid1", "uuid2", "uuid3"], // ë˜ëŠ” groupName
  "groupName": "VIPê³ ê°", // contactIds ëŒ€ì‹  ì‚¬ìš© ê°€ëŠ¥
  "channel": "both", // sms, kakao, both
  "scheduledAt": "2025-10-28T15:00:00Z" // ì„ íƒì , ì˜ˆì•½ ë°œì†¡
}

Response 201:
{
  "jobId": "uuid",
  "recipientCount": 150,
  "status": "pending",
  "estimatedCost": 15000 // ì˜ˆìƒ ë¹„ìš© (ì›)
}
```

#### 3.2 ë°œì†¡ ì‘ì—… ìƒíƒœ ì¡°íšŒ
```http
GET /send-jobs/:id

Response 200:
{
  "id": "uuid",
  "status": "processing",
  "recipientCount": 150,
  "successCount": 120,
  "failCount": 5,
  "progress": 83, // %
  "startedAt": "2025-10-28T10:00:00Z"
}
```

#### 3.3 ë°œì†¡ ì‘ì—… ëª©ë¡
```http
GET /send-jobs?page=1&limit=20&status=completed

Response 200:
{
  "data": [
    {
      "id": "uuid",
      "productIds": ["uuid1"],
      "channel": "both",
      "recipientCount": 150,
      "successCount": 145,
      "failCount": 5,
      "status": "completed",
      "createdAt": "2025-10-28T10:00:00Z"
    }
  ]
}
```

#### 3.4 ë°œì†¡ ë¡œê·¸ ì¡°íšŒ
```http
GET /send-jobs/:id/logs?page=1&limit=50&status=failed

Response 200:
{
  "data": [
    {
      "id": "uuid",
      "contactName": "í™ê¸¸ë™",
      "phone": "010-1234-5678",
      "channel": "sms",
      "status": "failed",
      "errorCode": "INVALID_NUMBER",
      "errorMessage": "ì˜ëª»ëœ ì „í™”ë²ˆí˜¸",
      "sentAt": null
    }
  ]
}
```

### 4. ì¶”ì  ë° ë¶„ì„ API

#### 4.1 í´ë¦­ ì¶”ì  (ë¦¬ë‹¤ì´ë ‰íŠ¸)
```http
GET /track/:trackingCode

Response 302:
Location: https://market.example.com/product/123
```

#### 4.2 ì½ìŒ ì½œë°± (ì¹´ì¹´ì˜¤)
```http
POST /webhooks/kakao/read

{
  "messageId": "external-msg-id",
  "readAt": "2025-10-28T10:05:00Z"
}

Response 200
```

#### 4.3 ìƒí’ˆë³„ í†µê³„ ì¡°íšŒ
```http
GET /analytics/products/:id

Response 200:
{
  "productId": "uuid",
  "productName": "ë´„ ì‹ ìƒ ì›í”¼ìŠ¤",
  "sendCount": 150,
  "deliveredCount": 145,
  "readCount": 120,
  "clickCount": 45,
  "readRate": 82.76, // %
  "clickRate": 31.03, // %
  "clickThroughRate": 37.5 // ì½ìŒ ëŒ€ë¹„ í´ë¦­ë¥ 
}
```

#### 4.4 ëŒ€ì‹œë³´ë“œ í†µê³„
```http
GET /analytics/dashboard?startDate=2025-10-01&endDate=2025-10-31

Response 200:
{
  "totalProducts": 50,
  "totalSends": 5000,
  "totalReads": 4100,
  "totalClicks": 1500,
  "averageReadRate": 82.0,
  "averageClickRate": 30.0,
  "topProducts": [
    {
      "id": "uuid",
      "name": "ì¸ê¸° ìƒí’ˆ",
      "clickCount": 200
    }
  ],
  "dailyStats": [
    {
      "date": "2025-10-28",
      "sends": 150,
      "reads": 120,
      "clicks": 45
    }
  ]
}
```

### 5. ì‹œìŠ¤í…œ API

#### 5.1 í—¬ìŠ¤ ì²´í¬
```http
GET /health

Response 200:
{
  "status": "ok",
  "database": "connected",
  "redis": "connected",
  "timestamp": "2025-10-28T10:00:00Z"
}
```

---


## ì£¼ìš” ëª¨ë“ˆ ìƒì„¸ ì„¤ê³„

### Frontend ëª¨ë“ˆ êµ¬ì¡°

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”œâ”€â”€ ProductForm.tsx          # ìƒí’ˆ ë“±ë¡ í¼
â”‚   â”‚   â”œâ”€â”€ ProductList.tsx          # AG Grid ê¸°ë°˜ ìƒí’ˆ ëª©ë¡
â”‚   â”‚   â”œâ”€â”€ ImageUploader.tsx        # ë‹¤ì¤‘ ì´ë¯¸ì§€ ì—…ë¡œë“œ
â”‚   â”‚   â”œâ”€â”€ ImageComposer.tsx        # í•©ì„± ë¯¸ë¦¬ë³´ê¸° ë° ìƒíƒœ
â”‚   â”‚   â””â”€â”€ ProductCard.tsx          # ëª¨ë°”ì¼ìš© ì¹´ë“œ ë·°
â”‚   â”œâ”€â”€ contacts/
â”‚   â”‚   â”œâ”€â”€ ContactList.tsx          # ì£¼ì†Œë¡ ëª©ë¡
â”‚   â”‚   â”œâ”€â”€ ContactUploader.tsx      # ì—‘ì…€/CSV ì—…ë¡œë“œ
â”‚   â”‚   â”œâ”€â”€ ContactForm.tsx          # ê°œë³„ ì¶”ê°€/ìˆ˜ì •
â”‚   â”‚   â””â”€â”€ ContactSelector.tsx      # ë°œì†¡ ëŒ€ìƒ ì„ íƒ ëª¨ë‹¬
â”‚   â”œâ”€â”€ send/
â”‚   â”‚   â”œâ”€â”€ SendJobForm.tsx          # ë°œì†¡ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ SendJobList.tsx          # ë°œì†¡ ì‘ì—… ëª©ë¡
â”‚   â”‚   â”œâ”€â”€ SendJobMonitor.tsx       # ì‹¤ì‹œê°„ ë°œì†¡ ìƒíƒœ
â”‚   â”‚   â””â”€â”€ SendLogViewer.tsx        # ë°œì†¡ ë¡œê·¸ ìƒì„¸
â”‚   â”œâ”€â”€ analytics/
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx            # ë©”ì¸ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”œâ”€â”€ ProductStats.tsx         # ìƒí’ˆë³„ í†µê³„
â”‚   â”‚   â””â”€â”€ Charts.tsx               # ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ common/
â”‚       â”œâ”€â”€ Layout.tsx               # ë ˆì´ì•„ì›ƒ
â”‚       â”œâ”€â”€ Sidebar.tsx              # ì‚¬ì´ë“œë°”
â”‚       â”œâ”€â”€ Header.tsx               # í—¤ë”
â”‚       â””â”€â”€ LoadingSpinner.tsx       # ë¡œë”©
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useProducts.ts               # ìƒí’ˆ ê´€ë ¨ í›…
â”‚   â”œâ”€â”€ useContacts.ts               # ì£¼ì†Œë¡ ê´€ë ¨ í›…
â”‚   â”œâ”€â”€ useSendJobs.ts               # ë°œì†¡ ê´€ë ¨ í›…
â”‚   â””â”€â”€ useAnalytics.ts              # ë¶„ì„ ê´€ë ¨ í›…
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ api.ts                       # Axios ì¸ìŠ¤í„´ìŠ¤
â”‚   â”œâ”€â”€ productService.ts            # ìƒí’ˆ API
â”‚   â”œâ”€â”€ contactService.ts            # ì£¼ì†Œë¡ API
â”‚   â”œâ”€â”€ sendService.ts               # ë°œì†¡ API
â”‚   â””â”€â”€ analyticsService.ts          # ë¶„ì„ API
â”œâ”€â”€ stores/
â”‚   â””â”€â”€ appStore.ts                  # Zustand ì „ì—­ ìƒíƒœ
â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ product.ts                   # ìƒí’ˆ íƒ€ì…
â”‚   â”œâ”€â”€ contact.ts                   # ì£¼ì†Œë¡ íƒ€ì…
â”‚   â””â”€â”€ send.ts                      # ë°œì†¡ íƒ€ì…
â””â”€â”€ utils/
    â”œâ”€â”€ validation.ts                # ìœ íš¨ì„± ê²€ì‚¬
    â”œâ”€â”€ format.ts                    # í¬ë§·íŒ…
    â””â”€â”€ constants.ts                 # ìƒìˆ˜
```

### Backend ëª¨ë“ˆ êµ¬ì¡°

```
src/
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”œâ”€â”€ products.module.ts
â”‚   â”‚   â”œâ”€â”€ products.controller.ts
â”‚   â”‚   â”œâ”€â”€ products.service.ts
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚   â”œâ”€â”€ create-product.dto.ts
â”‚   â”‚   â”‚   â””â”€â”€ update-product.dto.ts
â”‚   â”‚   â””â”€â”€ entities/
â”‚   â”‚       â””â”€â”€ product.entity.ts
â”‚   â”œâ”€â”€ contacts/
â”‚   â”‚   â”œâ”€â”€ contacts.module.ts
â”‚   â”‚   â”œâ”€â”€ contacts.controller.ts
â”‚   â”‚   â”œâ”€â”€ contacts.service.ts
â”‚   â”‚   â”œâ”€â”€ contacts-import.service.ts  # ì—‘ì…€/CSV íŒŒì‹±
â”‚   â”‚   â””â”€â”€ dto/
â”‚   â”œâ”€â”€ composer/
â”‚   â”‚   â”œâ”€â”€ composer.module.ts
â”‚   â”‚   â”œâ”€â”€ composer.service.ts
â”‚   â”‚   â”œâ”€â”€ composer.processor.ts       # BullMQ Worker
â”‚   â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â”‚   â”œâ”€â”€ grid-template.ts        # ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ highlight-template.ts   # í•˜ì´ë¼ì´íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”‚   â””â”€â”€ simple-template.ts      # ì‹¬í”Œ ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â””â”€â”€ adapters/
â”‚   â”‚       â”œâ”€â”€ openai-adapter.ts       # OpenAI DALL-E
â”‚   â”‚       â””â”€â”€ stability-adapter.ts    # Stability AI
â”‚   â”œâ”€â”€ messaging/
â”‚   â”‚   â”œâ”€â”€ messaging.module.ts
â”‚   â”‚   â”œâ”€â”€ messaging.service.ts
â”‚   â”‚   â”œâ”€â”€ messaging.processor.ts      # BullMQ Worker
â”‚   â”‚   â”œâ”€â”€ adapters/
â”‚   â”‚   â”‚   â”œâ”€â”€ sms-adapter.ts          # SMS ì „ì†¡
â”‚   â”‚   â”‚   â””â”€â”€ kakao-adapter.ts        # ì¹´ì¹´ì˜¤ ì „ì†¡
â”‚   â”‚   â””â”€â”€ templates/
â”‚   â”‚       â””â”€â”€ message-template.ts     # ë©”ì‹œì§€ í…œí”Œë¦¿
â”‚   â”œâ”€â”€ tracking/
â”‚   â”‚   â”œâ”€â”€ tracking.module.ts
â”‚   â”‚   â”œâ”€â”€ tracking.controller.ts      # ë¦¬ë‹¤ì´ë ‰íŠ¸ ì—”ë“œí¬ì¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ tracking.service.ts
â”‚   â”‚   â””â”€â”€ webhooks.controller.ts      # ì¹´ì¹´ì˜¤ ì½œë°±
â”‚   â”œâ”€â”€ analytics/
â”‚   â”‚   â”œâ”€â”€ analytics.module.ts
â”‚   â”‚   â”œâ”€â”€ analytics.controller.ts
â”‚   â”‚   â”œâ”€â”€ analytics.service.ts
â”‚   â”‚   â””â”€â”€ aggregation.service.ts      # í†µê³„ ì§‘ê³„
â”‚   â””â”€â”€ storage/
â”‚       â”œâ”€â”€ storage.module.ts
â”‚       â”œâ”€â”€ storage.service.ts          # S3 ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ
â”‚       â””â”€â”€ image-processor.service.ts  # ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì¦ˆ/ìµœì í™”
â”œâ”€â”€ common/
â”‚   â”œâ”€â”€ decorators/
â”‚   â”œâ”€â”€ filters/
â”‚   â”œâ”€â”€ guards/
â”‚   â”œâ”€â”€ interceptors/
â”‚   â”œâ”€â”€ pipes/
â”‚   â””â”€â”€ utils/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ database.config.ts
â”‚   â”œâ”€â”€ redis.config.ts
â”‚   â”œâ”€â”€ storage.config.ts
â”‚   â””â”€â”€ queue.config.ts
â””â”€â”€ prisma/
    â”œâ”€â”€ schema.prisma
    â””â”€â”€ migrations/
```

### í•µì‹¬ ì„œë¹„ìŠ¤ ìƒì„¸ ì„¤ê³„

#### 1. Image Composer Service

**ì±…ì„**
- ë‹¤ì¤‘ ì´ë¯¸ì§€ë¥¼ 1ê°œì˜ ë§ˆì¼€íŒ… ì´ë¯¸ì§€ë¡œ í•©ì„±
- í…ìŠ¤íŠ¸ ì˜¤ë²„ë ˆì´ (ìƒí’ˆëª…, ê°€ê²©, ì‚¬ì´ì¦ˆ, ìƒ‰ìƒ, ë§í¬)
- ë‹¤ì–‘í•œ ë ˆì´ì•„ì›ƒ í…œí”Œë¦¿ ì§€ì›

**êµ¬í˜„ ë°©ì‹**
```typescript
// composer.service.ts
@Injectable()
export class ComposerService {
  constructor(
    @InjectQueue('composer') private composerQueue: Queue,
    private storageService: StorageService,
    private prisma: PrismaService,
  ) {}

  async requestCompose(productId: string, templateType: string) {
    // 1. í•©ì„± ì‘ì—… ìƒì„±
    const job = await this.prisma.composeJob.create({
      data: {
        productId,
        templateType,
        status: 'pending',
      },
    });

    // 2. íì— ì‘ì—… ë“±ë¡
    await this.composerQueue.add('compose-image', {
      jobId: job.id,
      productId,
      templateType,
    }, {
      attempts: 3,
      backoff: {
        type: 'exponential',
        delay: 5000,
      },
    });

    return job;
  }

  async getComposeStatus(productId: string) {
    return this.prisma.composeJob.findFirst({
      where: { productId },
      orderBy: { createdAt: 'desc' },
    });
  }
}

// composer.processor.ts
@Processor('composer')
export class ComposerProcessor {
  @Process('compose-image')
  async handleCompose(job: Job) {
    const { jobId, productId, templateType } = job.data;

    try {
      // 1. ìƒí’ˆ ì •ë³´ ë° ì´ë¯¸ì§€ ì¡°íšŒ
      const product = await this.prisma.product.findUnique({
        where: { id: productId },
        include: { images: true },
      });

      // 2. ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ë° ì „ì²˜ë¦¬
      const processedImages = await this.preprocessImages(product.images);

      // 3. í…œí”Œë¦¿ ì„ íƒ ë° ë ˆì´ì•„ì›ƒ ìƒì„±
      const template = this.getTemplate(templateType);
      const layout = template.createLayout(processedImages, product);

      // 4. AI í•©ì„± API í˜¸ì¶œ (ë˜ëŠ” Canvas ê¸°ë°˜ í•©ì„±)
      const composedImage = await this.composeWithAI(layout);
      // ë˜ëŠ”: const composedImage = await this.composeWithCanvas(layout);

      // 5. S3 ì—…ë¡œë“œ
      const imageUrl = await this.storageService.upload(
        composedImage,
        `composed/${productId}.jpg`,
      );

      // 6. DB ì—…ë°ì´íŠ¸
      await this.prisma.$transaction([
        this.prisma.composeJob.update({
          where: { id: jobId },
          data: {
            status: 'completed',
            resultUrl: imageUrl,
            completedAt: new Date(),
          },
        }),
        this.prisma.product.update({
          where: { id: productId },
          data: {
            composedImageUrl: imageUrl,
            status: 'ready',
          },
        }),
      ]);

      return { success: true, imageUrl };
    } catch (error) {
      // ì‹¤íŒ¨ ì²˜ë¦¬
      await this.prisma.composeJob.update({
        where: { id: jobId },
        data: {
          status: 'failed',
          errorMessage: error.message,
          retryCount: { increment: 1 },
        },
      });
      throw error;
    }
  }

  private async preprocessImages(images: ProductImage[]) {
    // ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì¦ˆ, í¬ë¡­, ìµœì í™”
    return Promise.all(
      images.map(async (img) => {
        const buffer = await this.storageService.download(img.imageUrl);
        return sharp(buffer)
          .resize(800, 800, { fit: 'cover' })
          .jpeg({ quality: 90 })
          .toBuffer();
      }),
    );
  }

  private getTemplate(type: string) {
    const templates = {
      grid: new GridTemplate(),
      highlight: new HighlightTemplate(),
      simple: new SimpleTemplate(),
    };
    return templates[type] || templates.grid;
  }

  private async composeWithCanvas(layout: Layout) {
    // Node-Canvasë¥¼ ì‚¬ìš©í•œ ìì²´ í•©ì„± (AI ì—†ì´)
    const canvas = createCanvas(1200, 1600);
    const ctx = canvas.getContext('2d');

    // ë°°ê²½
    ctx.fillStyle = '#ffffff';
    ctx.fillRect(0, 0, 1200, 1600);

    // ì´ë¯¸ì§€ ë°°ì¹˜
    layout.images.forEach((img, idx) => {
      const { x, y, width, height } = layout.positions[idx];
      ctx.drawImage(img, x, y, width, height);
    });

    // í…ìŠ¤íŠ¸ ì˜¤ë²„ë ˆì´
    ctx.font = 'bold 48px Arial';
    ctx.fillStyle = '#000000';
    ctx.fillText(layout.productName, 50, 1450);

    ctx.font = '36px Arial';
    ctx.fillText(`${layout.price.toLocaleString()}ì›`, 50, 1500);

    // QR ì½”ë“œ ë˜ëŠ” "ë°”ë¡œì£¼ë¬¸í•˜ê¸°" ë²„íŠ¼
    // ...

    return canvas.toBuffer('image/jpeg');
  }

  private async composeWithAI(layout: Layout) {
    // OpenAI DALL-E ë˜ëŠ” Stability AI ì‚¬ìš©
    // í”„ë¡¬í”„íŠ¸ ìƒì„± ë° API í˜¸ì¶œ
    const prompt = this.generatePrompt(layout);
    const response = await this.aiAdapter.generate(prompt, layout.images);
    return response.imageBuffer;
  }
}
```

**í…œí”Œë¦¿ ì˜ˆì‹œ**
```typescript
// templates/grid-template.ts
export class GridTemplate {
  createLayout(images: Buffer[], product: Product): Layout {
    // 2x3 ë˜ëŠ” 3x2 ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ
    const positions = this.calculateGridPositions(images.length);
    
    return {
      type: 'grid',
      images,
      positions,
      productName: product.name,
      price: product.price,
      size: product.size,
      color: product.color,
      marketLink: product.marketLink,
    };
  }

  private calculateGridPositions(count: number) {
    // ì´ë¯¸ì§€ ê°œìˆ˜ì— ë”°ë¼ ê·¸ë¦¬ë“œ ìœ„ì¹˜ ê³„ì‚°
    const cols = count <= 4 ? 2 : 3;
    const rows = Math.ceil(count / cols);
    const cellWidth = 1200 / cols;
    const cellHeight = 1200 / rows;

    return Array.from({ length: count }, (_, i) => ({
      x: (i % cols) * cellWidth,
      y: Math.floor(i / cols) * cellHeight,
      width: cellWidth,
      height: cellHeight,
    }));
  }
}
```

#### 2. Messaging Service

**ì±…ì„**
- SMS/ì¹´ì¹´ì˜¤í†¡ ëŒ€ëŸ‰ ì „ì†¡
- ì „ì†¡ í ê´€ë¦¬ ë° ë°°ì¹˜ ì²˜ë¦¬
- ì™¸ë¶€ API ë ˆì´íŠ¸ ë¦¬ë°‹ ì¤€ìˆ˜
- ì „ì†¡ ê²°ê³¼ ìˆ˜ì§‘ ë° ì¬ì‹œë„

**êµ¬í˜„ ë°©ì‹**
```typescript
// messaging.service.ts
@Injectable()
export class MessagingService {
  constructor(
    @InjectQueue('messaging') private messagingQueue: Queue,
    private smsAdapter: SmsAdapter,
    private kakaoAdapter: KakaoAdapter,
    private prisma: PrismaService,
  ) {}

  async createSendJob(dto: CreateSendJobDto) {
    // 1. ìˆ˜ì‹ ì ëª©ë¡ ì¡°íšŒ
    const contacts = await this.getContacts(dto);

    // 2. ë°œì†¡ ì‘ì—… ìƒì„±
    const sendJob = await this.prisma.sendJob.create({
      data: {
        productIds: dto.productIds,
        channel: dto.channel,
        recipientCount: contacts.length,
        status: 'pending',
        scheduledAt: dto.scheduledAt,
      },
    });

    // 3. ê° ìˆ˜ì‹ ìë³„ ë°œì†¡ ë¡œê·¸ ìƒì„±
    const sendLogs = await this.prisma.sendLog.createMany({
      data: contacts.map((contact) => ({
        sendJobId: sendJob.id,
        productId: dto.productIds[0], // ì²« ë²ˆì§¸ ìƒí’ˆ
        contactId: contact.id,
        channel: dto.channel,
        status: 'pending',
      })),
    });

    // 4. íì— ë°°ì¹˜ ì‘ì—… ë“±ë¡ (100ê°œì”© ë¬¶ì–´ì„œ)
    const batches = this.chunkArray(contacts, 100);
    for (const [index, batch] of batches.entries()) {
      await this.messagingQueue.add(
        'send-batch',
        {
          sendJobId: sendJob.id,
          contacts: batch,
          productIds: dto.productIds,
          channel: dto.channel,
          batchIndex: index,
        },
        {
          delay: dto.scheduledAt 
            ? new Date(dto.scheduledAt).getTime() - Date.now() 
            : 0,
          attempts: 3,
        },
      );
    }

    return sendJob;
  }

  private async getContacts(dto: CreateSendJobDto) {
    if (dto.contactIds) {
      return this.prisma.contact.findMany({
        where: { id: { in: dto.contactIds } },
      });
    }
    if (dto.groupName) {
      return this.prisma.contact.findMany({
        where: { groupName: dto.groupName, isActive: true },
      });
    }
    throw new Error('contactIds ë˜ëŠ” groupName í•„ìš”');
  }

  private chunkArray<T>(array: T[], size: number): T[][] {
    return Array.from(
      { length: Math.ceil(array.length / size) },
      (_, i) => array.slice(i * size, (i + 1) * size),
    );
  }
}

// messaging.processor.ts
@Processor('messaging')
export class MessagingProcessor {
  @Process('send-batch')
  async handleSendBatch(job: Job) {
    const { sendJobId, contacts, productIds, channel } = job.data;

    // ìƒí’ˆ ì •ë³´ ì¡°íšŒ
    const products = await this.prisma.product.findMany({
      where: { id: { in: productIds } },
    });

    // ë©”ì‹œì§€ ë‚´ìš© ìƒì„±
    const message = this.createMessage(products);

    // ì±„ë„ë³„ ì „ì†¡
    const results = await Promise.allSettled(
      contacts.map(async (contact) => {
        try {
          let result;
          if (channel === 'sms' || channel === 'both') {
            result = await this.smsAdapter.send(contact.phone, message);
          }
          if (channel === 'kakao' || channel === 'both') {
            result = await this.kakaoAdapter.send(contact.kakaoId, message);
          }

          // ì„±ê³µ ë¡œê·¸ ì—…ë°ì´íŠ¸
          await this.prisma.sendLog.updateMany({
            where: {
              sendJobId,
              contactId: contact.id,
            },
            data: {
              status: 'success',
              externalMessageId: result.messageId,
              sentAt: new Date(),
            },
          });

          return { success: true, contactId: contact.id };
        } catch (error) {
          // ì‹¤íŒ¨ ë¡œê·¸ ì—…ë°ì´íŠ¸
          await this.prisma.sendLog.updateMany({
            where: {
              sendJobId,
              contactId: contact.id,
            },
            data: {
              status: 'failed',
              errorCode: error.code,
              errorMessage: error.message,
            },
          });

          return { success: false, contactId: contact.id, error };
        }
      }),
    );

    // ë°œì†¡ ì‘ì—… í†µê³„ ì—…ë°ì´íŠ¸
    const successCount = results.filter((r) => r.status === 'fulfilled').length;
    const failCount = results.filter((r) => r.status === 'rejected').length;

    await this.prisma.sendJob.update({
      where: { id: sendJobId },
      data: {
        successCount: { increment: successCount },
        failCount: { increment: failCount },
      },
    });

    return { successCount, failCount };
  }

  private createMessage(products: Product[]) {
    const product = products[0]; // ì²« ë²ˆì§¸ ìƒí’ˆ ê¸°ì¤€
    
    // ì¶”ì  ì½”ë“œ ìƒì„±
    const trackingCode = this.generateTrackingCode();
    const trackingUrl = `${process.env.APP_URL}/track/${trackingCode}`;

    return {
      text: `
ğŸ‰ ì‹ ìƒí’ˆ ì…ê³ !

${product.name}
ğŸ’° ${product.price.toLocaleString()}ì›
ğŸ“ ì‚¬ì´ì¦ˆ: ${product.size}
ğŸ¨ ìƒ‰ìƒ: ${product.color}

ğŸ‘‰ ë°”ë¡œì£¼ë¬¸í•˜ê¸°: ${trackingUrl}
      `.trim(),
      imageUrl: product.composedImageUrl,
      trackingCode,
      originalLink: product.marketLink,
    };
  }

  private generateTrackingCode(): string {
    return nanoid(10); // ì§§ì€ ê³ ìœ  ì½”ë“œ
  }
}
```

**ì™¸ë¶€ API ì–´ëŒ‘í„°**
```typescript
// adapters/sms-adapter.ts
@Injectable()
export class SmsAdapter {
  private client: AxiosInstance;

  constructor(private configService: ConfigService) {
    this.client = axios.create({
      baseURL: this.configService.get('SMS_API_URL'),
      headers: {
        'Authorization': `Bearer ${this.configService.get('SMS_API_KEY')}`,
      },
    });
  }

  async send(phone: string, message: any) {
    try {
      const response = await this.client.post('/send', {
        to: phone,
        text: message.text,
        // ì´ë¯¸ì§€ MMS ì§€ì› ì‹œ
        imageUrl: message.imageUrl,
      });

      return {
        messageId: response.data.messageId,
        status: 'sent',
      };
    } catch (error) {
      throw new MessagingException(error.response?.data?.message);
    }
  }
}

// adapters/kakao-adapter.ts
@Injectable()
export class KakaoAdapter {
  private client: AxiosInstance;

  constructor(private configService: ConfigService) {
    this.client = axios.create({
      baseURL: 'https://kapi.kakao.com',
      headers: {
        'Authorization': `Bearer ${this.configService.get('KAKAO_API_KEY')}`,
      },
    });
  }

  async send(kakaoId: string, message: any) {
    try {
      // ì¹œêµ¬í†¡ ë˜ëŠ” ì•Œë¦¼í†¡ ì „ì†¡
      const response = await this.client.post('/v1/api/talk/friends/message/default/send', {
        receiver_uuids: [kakaoId],
        template_object: {
          object_type: 'feed',
          content: {
            title: message.text.split('\n')[0],
            description: message.text,
            image_url: message.imageUrl,
            link: {
              web_url: message.trackingUrl,
              mobile_web_url: message.trackingUrl,
            },
          },
          buttons: [
            {
              title: 'ë°”ë¡œì£¼ë¬¸í•˜ê¸°',
              link: {
                web_url: message.trackingUrl,
                mobile_web_url: message.trackingUrl,
              },
            },
          ],
        },
      });

      return {
        messageId: response.data.successful_receiver_uuids[0],
        status: 'sent',
      };
    } catch (error) {
      throw new MessagingException(error.response?.data?.msg);
    }
  }
}
```

#### 3. Tracking Service

**ì±…ì„**
- í´ë¦­ ì¶”ì  (ë¦¬ë‹¤ì´ë ‰íŠ¸)
- ì½ìŒ ì¶”ì  (ì¹´ì¹´ì˜¤ ì½œë°±)
- ì´ë²¤íŠ¸ ì§‘ê³„ ë° í†µê³„

**êµ¬í˜„ ë°©ì‹**
```typescript
// tracking.controller.ts
@Controller('track')
export class TrackingController {
  constructor(private trackingService: TrackingService) {}

  @Get(':code')
  async trackClick(
    @Param('code') code: string,
    @Req() req: Request,
    @Res() res: Response,
  ) {
    // 1. ì¶”ì  ì½”ë“œë¡œ ì›ë³¸ ë§í¬ ì¡°íšŒ
    const tracking = await this.trackingService.findByCode(code);

    if (!tracking) {
      return res.redirect('https://example.com/404');
    }

    // 2. í´ë¦­ ì´ë²¤íŠ¸ ê¸°ë¡ (ë¹„ë™ê¸°)
    this.trackingService.recordClick(tracking.id, {
      ipAddress: req.ip,
      userAgent: req.headers['user-agent'],
    }).catch(console.error);

    // 3. ì›ë³¸ ë§í¬ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
    return res.redirect(tracking.originalLink);
  }
}

// tracking.service.ts
@Injectable()
export class TrackingService {
  constructor(private prisma: PrismaService) {}

  async recordClick(trackingId: string, metadata: any) {
    // í´ë¦­ ì´ë²¤íŠ¸ ì €ì¥
    await this.prisma.trackingEvent.create({
      data: {
        trackingCode: trackingId,
        eventType: 'click',
        ipAddress: metadata.ipAddress,
        userAgent: metadata.userAgent,
      },
    });

    // ìƒí’ˆ í´ë¦­ ìˆ˜ ì¦ê°€
    await this.prisma.product.update({
      where: { id: tracking.productId },
      data: { clickCount: { increment: 1 } },
    });
  }

  async recordRead(externalMessageId: string) {
    // ì™¸ë¶€ ë©”ì‹œì§€ IDë¡œ ë°œì†¡ ë¡œê·¸ ì¡°íšŒ
    const sendLog = await this.prisma.sendLog.findFirst({
      where: { externalMessageId },
    });

    if (!sendLog) return;

    // ì½ìŒ ì´ë²¤íŠ¸ ì €ì¥
    await this.prisma.trackingEvent.create({
      data: {
        productId: sendLog.productId,
        contactId: sendLog.contactId,
        sendLogId: sendLog.id,
        eventType: 'read',
      },
    });

    // ìƒí’ˆ ì½ìŒ ìˆ˜ ì¦ê°€
    await this.prisma.product.update({
      where: { id: sendLog.productId },
      data: { readCount: { increment: 1 } },
    });
  }
}

// webhooks.controller.ts
@Controller('webhooks')
export class WebhooksController {
  constructor(private trackingService: TrackingService) {}

  @Post('kakao/read')
  async handleKakaoRead(@Body() body: any) {
    // ì¹´ì¹´ì˜¤ ì½ìŒ ì½œë°± ì²˜ë¦¬
    const { message_id, read_at } = body;
    await this.trackingService.recordRead(message_id);
    return { success: true };
  }

  @Post('sms/delivery')
  async handleSmsDelivery(@Body() body: any) {
    // SMS ì „ì†¡ ê²°ê³¼ ì½œë°±
    const { message_id, status } = body;
    await this.prisma.sendLog.updateMany({
      where: { externalMessageId: message_id },
      data: { status },
    });
    return { success: true };
  }
}
```

---


## 2ë‹¨ê³„ í™•ì¥ ì„¤ê³„ (SaaS)

### ì¸ì¦ ì‹œìŠ¤í…œ

**User Entity**
```typescript
// users/entities/user.entity.ts
export class User {
  id: string;
  email: string;
  passwordHash: string;
  name: string;
  phone: string;
  role: 'user' | 'admin';
  tenantId: string;
  isActive: boolean;
  emailVerified: boolean;
  createdAt: Date;
  updatedAt: Date;
}
```

**JWT ì „ëµ**
```typescript
// auth/strategies/jwt.strategy.ts
@Injectable()
export class JwtStrategy extends PassportStrategy(Strategy) {
  constructor(private configService: ConfigService) {
    super({
      jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),
      secretOrKey: configService.get('JWT_SECRET'),
    });
  }

  async validate(payload: any) {
    return {
      userId: payload.sub,
      email: payload.email,
      role: payload.role,
      tenantId: payload.tenantId,
    };
  }
}
```

### êµ¬ë… ì‹œìŠ¤í…œ

**Subscription Plans**
```typescript
export enum SubscriptionPlan {
  FREE = 'free',
  BASIC = 'basic',
  PRO = 'pro',
  ENTERPRISE = 'enterprise',
}

export const PLAN_LIMITS = {
  [SubscriptionPlan.FREE]: {
    monthlySendLimit: 100,
    maxProducts: 10,
    maxContacts: 100,
    features: ['basic_compose', 'sms'],
  },
  [SubscriptionPlan.BASIC]: {
    monthlySendLimit: 1000,
    maxProducts: 100,
    maxContacts: 1000,
    features: ['basic_compose', 'sms', 'kakao', 'analytics'],
  },
  [SubscriptionPlan.PRO]: {
    monthlySendLimit: 10000,
    maxProducts: 1000,
    maxContacts: 10000,
    features: ['advanced_compose', 'sms', 'kakao', 'analytics', 'api_access'],
  },
  [SubscriptionPlan.ENTERPRISE]: {
    monthlySendLimit: -1, // unlimited
    maxProducts: -1,
    maxContacts: -1,
    features: ['all'],
  },
};
```

### ë©€í‹° í…Œë„Œì‹œ

**Tenant Isolation Middleware**
```typescript
// common/middleware/tenant.middleware.ts
@Injectable()
export class TenantMiddleware implements NestMiddleware {
  use(req: Request, res: Response, next: NextFunction) {
    const user = req.user;
    if (user && user.tenantId) {
      req['tenantId'] = user.tenantId;
    }
    next();
  }
}

// Prisma Middleware
prisma.$use(async (params, next) => {
  const tenantId = getCurrentTenantId(); // Contextì—ì„œ ê°€ì ¸ì˜¤ê¸°
  
  if (tenantId && params.model) {
    if (params.action === 'findMany' || params.action === 'findFirst') {
      params.args.where = { ...params.args.where, tenantId };
    }
    if (params.action === 'create') {
      params.args.data = { ...params.args.data, tenantId };
    }
  }
  
  return next(params);
});
```

---

## ì„±ëŠ¥ ìµœì í™”

### ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”

**ì¸ë±ìŠ¤ ì „ëµ**
```sql
-- ìì£¼ ì¡°íšŒë˜ëŠ” ì»¬ëŸ¼ì— ì¸ë±ìŠ¤
CREATE INDEX idx_products_status_created ON products(status, created_at DESC);
CREATE INDEX idx_contacts_tenant_group ON contacts(tenant_id, group_name);
CREATE INDEX idx_send_logs_job_status ON send_logs(send_job_id, status);
CREATE INDEX idx_tracking_events_product_type ON tracking_events(product_id, event_type);

-- ë³µí•© ì¸ë±ìŠ¤
CREATE INDEX idx_products_tenant_status ON products(tenant_id, status) WHERE status = 'ready';
```

**ì¿¼ë¦¬ ìµœì í™”**
```typescript
// N+1 ë¬¸ì œ í•´ê²° - Eager Loading
const products = await prisma.product.findMany({
  include: {
    images: true,
    _count: {
      select: {
        sendLogs: true,
      },
    },
  },
});

// í˜ì´ì§€ë„¤ì´ì…˜ ìµœì í™” - Cursor-based
const products = await prisma.product.findMany({
  take: 20,
  skip: 1,
  cursor: {
    id: lastProductId,
  },
  orderBy: {
    createdAt: 'desc',
  },
});
```

### ìºì‹± ì „ëµ

**Redis ìºì‹±**
```typescript
// ìƒí’ˆ ëª©ë¡ ìºì‹± (5ë¶„)
const cacheKey = `products:${tenantId}:${page}:${limit}`;
const cached = await redis.get(cacheKey);
if (cached) return JSON.parse(cached);

const products = await prisma.product.findMany(...);
await redis.setex(cacheKey, 300, JSON.stringify(products));

// í†µê³„ ìºì‹± (1ì‹œê°„)
const statsKey = `analytics:${productId}:${date}`;
const stats = await redis.get(statsKey);
if (!stats) {
  const computed = await this.computeStats(productId, date);
  await redis.setex(statsKey, 3600, JSON.stringify(computed));
}
```

### ì´ë¯¸ì§€ ìµœì í™”

**CDN í™œìš©**
```typescript
// CloudFlare Images ë˜ëŠ” AWS CloudFront
const cdnUrl = `https://cdn.yourdomain.com/${imageKey}`;

// ë‹¤ì–‘í•œ í¬ê¸° ì œê³µ
const thumbnailUrl = `${cdnUrl}?w=200&h=200&fit=cover`;
const mediumUrl = `${cdnUrl}?w=800&h=800&fit=cover`;
const originalUrl = cdnUrl;
```

---

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### ë°ì´í„° ì•”í˜¸í™”

**ë¯¼ê° ì •ë³´ ì•”í˜¸í™”**
```typescript
// crypto.util.ts
import * as crypto from 'crypto';

const ALGORITHM = 'aes-256-gcm';
const KEY = Buffer.from(process.env.ENCRYPTION_KEY, 'hex');

export function encrypt(text: string): string {
  const iv = crypto.randomBytes(16);
  const cipher = crypto.createCipheriv(ALGORITHM, KEY, iv);
  
  let encrypted = cipher.update(text, 'utf8', 'hex');
  encrypted += cipher.final('hex');
  
  const authTag = cipher.getAuthTag();
  
  return `${iv.toString('hex')}:${authTag.toString('hex')}:${encrypted}`;
}

export function decrypt(encryptedText: string): string {
  const [ivHex, authTagHex, encrypted] = encryptedText.split(':');
  
  const iv = Buffer.from(ivHex, 'hex');
  const authTag = Buffer.from(authTagHex, 'hex');
  const decipher = crypto.createDecipheriv(ALGORITHM, KEY, iv);
  
  decipher.setAuthTag(authTag);
  
  let decrypted = decipher.update(encrypted, 'hex', 'utf8');
  decrypted += decipher.final('utf8');
  
  return decrypted;
}

// ì „í™”ë²ˆí˜¸ ì•”í˜¸í™” ì €ì¥
const encryptedPhone = encrypt(contact.phone);
await prisma.contact.create({
  data: {
    ...contact,
    phone: encryptedPhone,
  },
});
```

### SQL Injection ë°©ì§€

```typescript
// PrismaëŠ” ìë™ìœ¼ë¡œ íŒŒë¼ë¯¸í„°í™”ëœ ì¿¼ë¦¬ ì‚¬ìš©
// ì§ì ‘ SQL ì‚¬ìš© ì‹œ ì£¼ì˜
const result = await prisma.$queryRaw`
  SELECT * FROM products 
  WHERE name = ${userInput}
`; // âœ… ì•ˆì „

// âŒ ìœ„í—˜ - ì ˆëŒ€ ì‚¬ìš© ê¸ˆì§€
const result = await prisma.$queryRawUnsafe(
  `SELECT * FROM products WHERE name = '${userInput}'`
);
```

### XSS ë°©ì§€

```typescript
// Frontend - DOMPurify ì‚¬ìš©
import DOMPurify from 'dompurify';

const sanitizedHtml = DOMPurify.sanitize(userInput);

// ReactëŠ” ê¸°ë³¸ì ìœ¼ë¡œ XSS ë°©ì§€
<div>{userInput}</div> // âœ… ì•ˆì „

// dangerouslySetInnerHTML ì‚¬ìš© ì‹œ ì£¼ì˜
<div dangerouslySetInnerHTML={{ __html: sanitizedHtml }} />
```

---

## í™•ì¥ ê°€ëŠ¥ì„±

### ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì „í™˜ (ë¯¸ë˜)

```
í˜„ì¬ (Monolith)          â†’          ë¯¸ë˜ (Microservices)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   NestJS App    â”‚              â”‚ Product  â”‚  â”‚ Contact  â”‚
â”‚                 â”‚              â”‚ Service  â”‚  â”‚ Service  â”‚
â”‚ - Products      â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ - Contacts      â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ - Messaging     â”‚      â†’       â”‚Messaging â”‚  â”‚Analytics â”‚
â”‚ - Analytics     â”‚              â”‚ Service  â”‚  â”‚ Service  â”‚
â”‚                 â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              
                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                 â”‚   API Gateway        â”‚
                                 â”‚   (Kong/AWS Gateway) â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê¸€ë¡œë²Œ í™•ì¥

**ë‹¤êµ­ì–´ ì§€ì›**
```typescript
// i18n ì„¤ì •
import i18n from 'i18next';

i18n.init({
  lng: 'ko',
  resources: {
    ko: {
      translation: {
        'product.create': 'ìƒí’ˆ ë“±ë¡',
        'product.list': 'ìƒí’ˆ ëª©ë¡',
      },
    },
    en: {
      translation: {
        'product.create': 'Create Product',
        'product.list': 'Product List',
      },
    },
  },
});
```

**íƒ€ì„ì¡´ ì²˜ë¦¬**
```typescript
import { DateTime } from 'luxon';

// UTCë¡œ ì €ì¥
const utcDate = DateTime.utc();

// ì‚¬ìš©ì íƒ€ì„ì¡´ìœ¼ë¡œ í‘œì‹œ
const userDate = utcDate.setZone('Asia/Seoul');
```

---

## ìš”ì•½

### ì™„ë£Œëœ ì„¤ê³„ ë¬¸ì„œ
1. âœ… **DEVELOPMENT_DESIGN.md** - ì „ì²´ ì‹œìŠ¤í…œ ì„¤ê³„
2. âœ… **EXTERNAL_API_REQUIREMENTS.md** - ì™¸ë¶€ API ì—°ë™ ê°€ì´ë“œ
3. âœ… **SPRINT_PLAN.md** - 8ì£¼ ê°œë°œ ì¼ì •
4. âœ… **TEST_STRATEGY.md** - TDD í…ŒìŠ¤íŠ¸ ì „ëµ
5. âœ… **DEPLOYMENT_GUIDE.md** - ë°°í¬ ë° ìš´ì˜ ê°€ì´ë“œ
6. âœ… **PROJECT_STRUCTURE.md** - í”„ë¡œì íŠ¸ êµ¬ì¡°

### í•µì‹¬ ì„¤ê³„ í¬ì¸íŠ¸
- **ê°„ê²°í•˜ê³  ëª…í™•í•œ ëª¨ë“ˆ êµ¬ì¡°**: Over-Engineering ì§€ì–‘
- **TDD ê¸°ë°˜ ê°œë°œ**: í…ŒìŠ¤íŠ¸ ìš°ì„  ì‘ì„±
- **ë¹„ë™ê¸° ì²˜ë¦¬**: BullMQë¥¼ í™œìš©í•œ ì‘ì—… í
- **í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜**: 1ë‹¨ê³„ MVP â†’ 2ë‹¨ê³„ SaaS
- **ì—‘ì…€ ì¹œí™”ì  UX**: AG Grid í™œìš©
- **ë°˜ì‘í˜• ì›¹**: PC/ëª¨ë°”ì¼ ëª¨ë‘ ì§€ì›

### ê¸°ìˆ  ìŠ¤íƒ ìš”ì•½
- **Frontend**: React + TypeScript + Vite + TailwindCSS
- **Backend**: NestJS + Prisma + BullMQ
- **Database**: PostgreSQL + Redis
- **Storage**: AWS S3
- **Testing**: Jest + Playwright
- **Deployment**: Vercel + Railway/AWS

ì´ì œ ìŠ¤í”„ë¦°íŠ¸ 0ë¶€í„° ê°œë°œì„ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! ğŸš€
