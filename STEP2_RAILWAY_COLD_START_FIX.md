# 2ï¸âƒ£ ë‹¨ê³„ 2: Railway ì½œë“œ ìŠ¤íƒ€íŠ¸ ê°œì„ 

**ì˜ˆìƒ ì‹œê°„**: 15ë¶„  
**ë‚œì´ë„**: ì‰¬ì›€  
**ìœ„í—˜ë„**: ë§¤ìš° ë‚®ìŒ (ì–¸ì œë“ ì§€ ì¤‘ë‹¨ ê°€ëŠ¥)

---

## ğŸ¯ ê¸°ëŒ€íš¨ê³¼

### Before (í˜„ì¬)
```
ì²« API ìš”ì²­:      12ì´ˆ+ (ì½œë“œ ìŠ¤íƒ€íŠ¸)
ì´í›„ ìš”ì²­:        200ms
ì‚¬ìš©ì ê²½í—˜:      ì²« ë¡œë”© ì‹œ ë‹µë‹µí•¨
ì„œë²„ ìƒíƒœ:        ë¹„í™œì„± ì‹œ ìŠ¬ë¦½ ëª¨ë“œ
```

### After (ì‘ì—… í›„)
```
ì²« API ìš”ì²­:      1ì´ˆ ì´í•˜ (í•­ìƒ ì¤€ë¹„ë¨)
ì´í›„ ìš”ì²­:        200ms
ì‚¬ìš©ì ê²½í—˜:      ë¹ ë¥¸ ì‘ë‹µ
ì„œë²„ ìƒíƒœ:        í•­ìƒ í™œì„± ìƒíƒœ ìœ ì§€
```

### ğŸ“Š ì„±ëŠ¥ ê°œì„ 
```
ì½œë“œ ìŠ¤íƒ€íŠ¸ ì‹œê°„:  12ì´ˆ â†’ 1ì´ˆ (92% ê°œì„ )
ì‚¬ìš©ì ì´íƒˆë¥ :     ê°ì†Œ ì˜ˆìƒ
ì „ì²´ ë§Œì¡±ë„:       í–¥ìƒ
```

---

## âš ï¸ ì£¼ì˜ì‚¬í•­ ë° ì‚¬ì´ë“œì´í™íŠ¸

### âœ… ì•ˆì „í•œ ì‘ì—…
- ê¸°ì¡´ ê¸°ëŠ¥ì— ì˜í–¥ ì—†ìŒ
- ë°ì´í„° ì†ì‹¤ ì—†ìŒ
- ì–¸ì œë“ ì§€ ì¤‘ë‹¨ ê°€ëŠ¥
- ë¬´ë£Œë¡œ í•´ê²° ê°€ëŠ¥

### âš ï¸ í™•ì¸ í•„ìš”
- Railway ë¬´ë£Œ í”Œëœ ì‚¬ìš©ëŸ‰ í™•ì¸ (ì›” $5 í¬ë ˆë”§)
- Health CheckëŠ” ë§¤ìš° ê°€ë²¼ì›Œì„œ ì‚¬ìš©ëŸ‰ ë¯¸ë¯¸
- ì˜ˆìƒ ì¶”ê°€ ì‚¬ìš©ëŸ‰: ì›” $0.10 ì´í•˜

### ğŸ“Š Railway ì‚¬ìš©ëŸ‰ ê³„ì‚°
```
Health Check 1íšŒ: ~0.001ì´ˆ CPU ì‹œê°„
5ë¶„ë§ˆë‹¤ ì‹¤í–‰:     í•˜ë£¨ 288íšŒ
ì›”ê°„ ì‹¤í–‰:        ~8,640íšŒ
ì˜ˆìƒ ë¹„ìš©:        ~$0.10/ì›” (ë¬´ë£Œ í¬ë ˆë”§ ë‚´)
```

---

## ğŸ”§ í•´ê²° ë°©ë²• (2ê°€ì§€ ì˜µì…˜)

### ì˜µì…˜ A: UptimeRobot (ê¶Œì¥ - ê°€ì¥ ê°„ë‹¨)
- âœ… ì„¤ì • ë§¤ìš° ê°„ë‹¨ (5ë¶„)
- âœ… ë³„ë„ ì½”ë“œ ë¶ˆí•„ìš”
- âœ… ë¬´ë£Œ í”Œëœ ì œê³µ
- âœ… ì›¹ UIë¡œ ê´€ë¦¬
- âŒ ì™¸ë¶€ ì„œë¹„ìŠ¤ ì˜ì¡´

### ì˜µì…˜ B: GitHub Actions
- âœ… í”„ë¡œì íŠ¸ ë‚´ë¶€ì—ì„œ ê´€ë¦¬
- âœ… ì½”ë“œë¡œ ê´€ë¦¬ ê°€ëŠ¥
- âŒ GitHub ì €ì¥ì†Œ í•„ìš”
- âŒ ì„¤ì • ì•½ê°„ ë³µì¡

**ê¶Œì¥**: ì˜µì…˜ A (UptimeRobot) - ê°€ì¥ ë¹ ë¥´ê³  ê°„ë‹¨í•©ë‹ˆë‹¤!

---

## ğŸ“‹ ì‹¤í–‰ ë‹¨ê³„ (ì˜µì…˜ A: UptimeRobot)

### Step 1: UptimeRobot ê³„ì • ìƒì„±

1. **UptimeRobot ì›¹ì‚¬ì´íŠ¸ ì ‘ì†**
   ```
   https://uptimerobot.com
   ```

2. **ë¬´ë£Œ ê³„ì • ê°€ì…**
   - "Sign Up Free" í´ë¦­
   - ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
   - ì´ë©”ì¼ ì¸ì¦

3. **ëŒ€ì‹œë³´ë“œ ì ‘ì†**
   - ë¡œê·¸ì¸ í›„ ìë™ìœ¼ë¡œ ëŒ€ì‹œë³´ë“œ ì´ë™

---

### Step 2: ëª¨ë‹ˆí„° ìƒì„±

1. **"+ Add New Monitor" í´ë¦­**

2. **ëª¨ë‹ˆí„° ì„¤ì •**
   ```
   Monitor Type:     HTTP(s)
   Friendly Name:    Moodon Backend Health Check
   URL:              https://backend-production-c41fe.up.railway.app/api/v1/health
   Monitoring Interval: 5 minutes (ë¬´ë£Œ í”Œëœ ìµœì†Œê°’)
   ```

3. **Alert Contacts (ì„ íƒì‚¬í•­)**
   - ì„œë²„ ë‹¤ìš´ ì‹œ ì•Œë¦¼ ë°›ì„ ì´ë©”ì¼ ì„¤ì •
   - ê¸°ë³¸ê°’ìœ¼ë¡œ ë‘ì–´ë„ ë¨

4. **"Create Monitor" í´ë¦­**

---

### Step 3: ëª¨ë‹ˆí„° í™•ì¸

1. **ëŒ€ì‹œë³´ë“œì—ì„œ ëª¨ë‹ˆí„° ìƒíƒœ í™•ì¸**
   ```
   Status: Up (ë…¹ìƒ‰)
   Response Time: ~200ms
   Uptime: 100%
   ```

2. **ì²« Health Check ëŒ€ê¸°**
   - ìƒì„± í›„ ì¦‰ì‹œ ì²« ì²´í¬ ì‹¤í–‰
   - ì•½ 1ë¶„ ë‚´ ê²°ê³¼ í‘œì‹œ

3. **5ë¶„ í›„ ì¬í™•ì¸**
   - ìë™ìœ¼ë¡œ 5ë¶„ë§ˆë‹¤ ì²´í¬
   - "Last Checked" ì‹œê°„ ì—…ë°ì´íŠ¸ í™•ì¸

---

### Step 4: Railway ë¡œê·¸ í™•ì¸

1. **Railway Dashboard ì ‘ì†**
   ```
   https://railway.app/dashboard
   ```

2. **backend í”„ë¡œì íŠ¸ â†’ Deployments**

3. **ìµœì‹  ë°°í¬ â†’ Deploy Logs**

4. **Health Check ìš”ì²­ í™•ì¸**
   ```
   [Nest] INFO [RouterExplorer] Mapped {/api/v1/health, GET}
   GET /api/v1/health 200 - 5ms
   ```

5. **5ë¶„ë§ˆë‹¤ ë¡œê·¸ ìƒì„± í™•ì¸**
   - UptimeRobotì´ ì •ìƒ ì‘ë™ ì¤‘

---

## âœ… ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] UptimeRobot ê³„ì • ìƒì„±
- [ ] ëª¨ë‹ˆí„° ìƒì„± ì™„ë£Œ
- [ ] ëª¨ë‹ˆí„° ìƒíƒœ "Up" í™•ì¸
- [ ] Railway ë¡œê·¸ì—ì„œ Health Check ìš”ì²­ í™•ì¸
- [ ] 5ë¶„ í›„ ìë™ ì²´í¬ í™•ì¸
- [ ] ì½œë“œ ìŠ¤íƒ€íŠ¸ ì‹œê°„ í…ŒìŠ¤íŠ¸

---

## ğŸ§ª ì½œë“œ ìŠ¤íƒ€íŠ¸ ê°œì„  í…ŒìŠ¤íŠ¸

### í…ŒìŠ¤íŠ¸ ë°©ë²•

1. **Railway ì„œë²„ ìŠ¬ë¦½ ëŒ€ê¸° (ì„ íƒì‚¬í•­)**
   - UptimeRobot ëª¨ë‹ˆí„° ì¼ì‹œ ì¤‘ì§€
   - 10ë¶„ ëŒ€ê¸°
   - ì„œë²„ê°€ ìŠ¬ë¦½ ëª¨ë“œë¡œ ì „í™˜

2. **ì½œë“œ ìŠ¤íƒ€íŠ¸ ì‹œê°„ ì¸¡ì • (Before)**
   ```bash
   time curl https://backend-production-c41fe.up.railway.app/api/v1/health
   ```
   - ì˜ˆìƒ ê²°ê³¼: 10-15ì´ˆ

3. **UptimeRobot ëª¨ë‹ˆí„° ì¬ê°œ**
   - 5ë¶„ ëŒ€ê¸°

4. **ì½œë“œ ìŠ¤íƒ€íŠ¸ ì‹œê°„ ì¬ì¸¡ì • (After)**
   ```bash
   time curl https://backend-production-c41fe.up.railway.app/api/v1/health
   ```
   - ì˜ˆìƒ ê²°ê³¼: 1ì´ˆ ì´í•˜

---

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ

### UptimeRobotì—ì„œ í™•ì¸ ê°€ëŠ¥í•œ ì •ë³´

```
âœ… Uptime Percentage:    99.9%+
âœ… Response Time:        í‰ê·  200ms
âœ… Down Events:          0ê±´
âœ… Last Checked:         5ë¶„ ì „
âœ… Total Checks:         ëˆ„ì  ì²´í¬ íšŸìˆ˜
```

### ì•Œë¦¼ ì„¤ì • (ì„ íƒì‚¬í•­)

1. **My Settings â†’ Alert Contacts**
2. **ì´ë©”ì¼ ì¶”ê°€**
3. **ëª¨ë‹ˆí„°ì— ì—°ê²°**
4. **ì„œë²„ ë‹¤ìš´ ì‹œ ì¦‰ì‹œ ì•Œë¦¼ ìˆ˜ì‹ **

---

## ğŸš¨ ë¬¸ì œ ë°œìƒ ì‹œ ëŒ€ì‘

### ë¬¸ì œ 1: ëª¨ë‹ˆí„° ìƒíƒœ "Down"
```
ì¦ìƒ: ë¹¨ê°„ìƒ‰ "Down" í‘œì‹œ

í•´ê²°:
1. Railway ì„œë²„ ìƒíƒœ í™•ì¸
2. Health Check URL í™•ì¸
3. Railway ë¡œê·¸ í™•ì¸
4. ì¼ì‹œì  ë¬¸ì œì¼ ìˆ˜ ìˆìŒ (5ë¶„ ëŒ€ê¸°)
```

### ë¬¸ì œ 2: Response Time ë„ˆë¬´ ëŠë¦¼
```
ì¦ìƒ: Response Time > 5ì´ˆ

í•´ê²°:
1. Railway ì„œë²„ ë¦¬ì „ í™•ì¸
2. ë„¤íŠ¸ì›Œí¬ ìƒíƒœ í™•ì¸
3. Railway í”Œëœ í™•ì¸ (ë¬´ë£Œ í”Œëœ ì œí•œ)
```

### ë¬¸ì œ 3: Railway ì‚¬ìš©ëŸ‰ ì´ˆê³¼
```
ì¦ìƒ: Railway í¬ë ˆë”§ ì†Œì§„

í•´ê²°:
1. UptimeRobot ëª¨ë‹ˆí„° ì¼ì‹œ ì¤‘ì§€
2. Railway ì‚¬ìš©ëŸ‰ í™•ì¸
3. í•„ìš” ì‹œ ìœ ë£Œ í”Œëœ ê³ ë ¤
```

---

## ğŸ”„ ë¡¤ë°± ë°©ë²•

ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ì¤‘ë‹¨í•˜ê³  ì‹¶ìœ¼ë©´:

1. **UptimeRobot Dashboard**
2. **ëª¨ë‹ˆí„° ì„ íƒ**
3. **"Pause" ë²„íŠ¼ í´ë¦­**
4. ë˜ëŠ” **"Delete" ë²„íŠ¼ìœ¼ë¡œ ì™„ì „ ì‚­ì œ**

**ì˜í–¥**: ì—†ìŒ (ì„œë²„ëŠ” ì •ìƒ ì‘ë™, ë‹¨ì§€ ì½œë“œ ìŠ¤íƒ€íŠ¸ ë°œìƒ ê°€ëŠ¥)

---

## ğŸ“‹ ì‹¤í–‰ ë‹¨ê³„ (ì˜µì…˜ B: GitHub Actions)

ì˜µì…˜ Aê°€ ë” ê°„ë‹¨í•˜ì§€ë§Œ, GitHub Actionsë¥¼ ì„ í˜¸í•˜ì‹œë©´:

### Step 1: GitHub Actions ì›Œí¬í”Œë¡œìš° ìƒì„±

```yaml
# .github/workflows/keep-railway-alive.yml
name: Keep Railway Alive

on:
  schedule:
    - cron: '*/5 * * * *'  # 5ë¶„ë§ˆë‹¤ ì‹¤í–‰
  workflow_dispatch:  # ìˆ˜ë™ ì‹¤í–‰ ê°€ëŠ¥

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Railway Backend
        run: |
          response=$(curl -s -o /dev/null -w "%{http_code}" https://backend-production-c41fe.up.railway.app/api/v1/health)
          if [ $response -eq 200 ]; then
            echo "âœ… Backend is alive (HTTP $response)"
          else
            echo "âŒ Backend returned HTTP $response"
            exit 1
          fi
```

### Step 2: GitHubì— í‘¸ì‹œ

```bash
git add .github/workflows/keep-railway-alive.yml
git commit -m "Add Railway keep-alive workflow"
git push
```

### Step 3: GitHub Actions í™•ì¸

1. GitHub ì €ì¥ì†Œ â†’ Actions íƒ­
2. "Keep Railway Alive" ì›Œí¬í”Œë¡œìš° í™•ì¸
3. 5ë¶„ë§ˆë‹¤ ìë™ ì‹¤í–‰

---

## ğŸ’¡ ì¶”ê°€ ìµœì í™” íŒ

### 1. Railway í”Œëœ ì—…ê·¸ë ˆì´ë“œ (ì„ íƒì‚¬í•­)
```
Hobby Plan ($5/ì›”):
- Always On ê¸°ëŠ¥
- ì½œë“œ ìŠ¤íƒ€íŠ¸ ì—†ìŒ
- ë” ë§ì€ ë¦¬ì†ŒìŠ¤
```

### 2. Health Check ì—”ë“œí¬ì¸íŠ¸ ìµœì í™”
```typescript
// backend/src/app.controller.ts
@Get('health')
@ApiExcludeEndpoint()  // Swaggerì—ì„œ ì œì™¸
healthCheck() {
  return { 
    status: 'ok', 
    timestamp: new Date().toISOString() 
  };
}
```

### 3. ìºì‹± ì¶”ê°€ (í–¥í›„)
```typescript
// Redis ìºì‹±ìœ¼ë¡œ ì‘ë‹µ ì†ë„ ë” ê°œì„ 
```

---

## ğŸ“Š ì˜ˆìƒ ê²°ê³¼

### 1ì£¼ì¼ í›„ í†µê³„
```
Uptime:           99.9%+
Average Response: 200ms
Cold Starts:      0ê±´
User Satisfaction: â¬†ï¸ í–¥ìƒ
```

### 1ê°œì›” í›„ í†µê³„
```
Total Checks:     ~8,640íšŒ
Down Events:      0-1ê±´
Railway Cost:     $0.10 (ë¬´ë£Œ í¬ë ˆë”§ ë‚´)
```

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

2ë‹¨ê³„ ì™„ë£Œ í›„ ë‹¤ìŒìœ¼ë¡œ ì§„í–‰:
- **3ë‹¨ê³„**: ì†”ë¼í”¼ API ì‹¤ì œ ì—°ë™

---

**ì¤€ë¹„ë˜ì…¨ë‚˜ìš”? UptimeRobot ê³„ì •ì„ ìƒì„±í•˜ê³  ëª¨ë‹ˆí„°ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”!** ğŸš€

ì™„ë£Œí•˜ì‹œë©´ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.
